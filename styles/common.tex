
% -------------------------------------------------------
%  Common Styles and Formattings
% -------------------------------------------------------

\usepackage[table, svgnames, dvipsnames]{xcolor}
\usepackage{color}


\usepackage{amsthm, thmtools}
\usepackage{environ}
%\usepackage{bickham}
%\usepackage{boondox-cal}
%\usepackage{boondox-calo}
\usepackage{dutchcal}
\usepackage{amssymb,amsmath,gensymb,mathtools}
\usepackage[hyphens]{url}%\PassOptionsToPackage{hyphens}{url}
\usepackage[colorlinks,linkcolor=blue,citecolor=blue, breaklinks]{hyperref}
\usepackage{xurl}
%\usepackage{url}


%\usepackage{breakurl}
\usepackage{copyrightbox,doi}
\usepackage[usenames,dvipsnames]{pstricks}
\usepackage{graphicx,subfigure,wrapfig}
\usepackage{geometry,fancyhdr}
\usepackage[mathscr]{euscript}
\usepackage[version=4]{mhchem}
\usepackage{tabularx,multirow,multicol,array}
\newcolumntype{C}[1]{>{\centering\arraybackslash\hspace{0pt}}p{#1}}
\newcolumntype{Y}{>{\centering\arraybackslash}X}
\definecolor{headerColor}{rgb}{0.78,0.85,.95}

\usepackage{algorithmicx,algorithm}



\usepackage{placeins}
\usepackage{comment}
\usepackage{etoolbox}
\newcounter{magicrownumbers}
\usepackage{tabularx, longtable}
\usepackage{ltablex}

%======================================================================================

\usepackage[inline]{enumitem}
\newlist{alphinline}{enumerate*}{1}
\setlist[alphinline]{label=(\alph*)}
\newlist{enuminline}{enumerate*}{1}
\setlist[enuminline]{label=(\arabic*)}
\newlist{circlelist}{enumerate}{1}
\setlist[circlelist,1]{label=\protect\circled{\arabic*}}
\newlist{alphabetlist}{enumerate}{1}
\setlist[alphabetlist]{label=\alph*)}
\newlist{checklist}{itemize}{1}
\setlist[checklist]{label=$\checkmark$)}
\newlist{iteminline}{itemize*}{1}
\setlist[iteminline]{label=$\bullet$}

%--------------------------------------------------------------------------------------
\usepackage{makeidx}\makeindex
\usepackage[localise=on,extrafootnotefeatures]{xepersian} %%%%%%%%%%%%%%%%%%%%%%%%%%%
\usepackage[noend]{algpseudocode}
\input{styles/alg-fa}

\usepackage{bidihl}
\definecolor{lightYellow}{rgb}{1,1,0.73}
\newcommand{\hl}[1]{\bidihl{#1}}
\definecolor{bidihlcolor}{rgb}{1,1,0.73}



%\sethlcolor{yellow}
%\def\SOUL@hlpreamble{%
%	\setul{\dp\strutbox}{\dimexpr\ht\strutbox+\dp\strutbox\relax}%
%	\let\SOUL@stcolor\SOUL@hlcolor
%	\SOUL@stpreamble
%}
%\makeatother
%
%\newcommand{\hlfa}[1]{\hl{\rl{#1}}}
%\newcommand{\hlc}[2][yellow]{\sethlcolor{#2}\hl{#1}}




% -------------------- Page Layout --------------------


\newgeometry{top=3.5cm,bottom=3.5cm,left=2.5cm,right=3cm,headheight=25pt}

\renewcommand{\baselinestretch}{1.4}
\linespread{1.6}
\setlength{\parskip}{0.45em}
%\setlength{\abovedisplayskip}{0pt}
%\setlength{\belowdisplayskip}{0pt}
%\setlength{\abovedisplayshortskip}{0pt}
%\setlength{\belowdisplayshortskip}{0pt}


\fancyhf{}
\rhead{\leftmark}
\lhead{\thepage}

\def\negspace{-2em}
\newcommand{\removevspace}[1][2]{\vspace{-#1em}}
\newenvironment{equationx}{\removevspace$\begin{aligned}}{\end{aligned}$}
\usepackage[bottom]{footmisc}
% -------------------- Fonts --------------------

\settextfont[
Scale=1.09,
Extension=.ttf, 
Path=styles/fonts/,
BoldFont=XB NiloofarBd,
ItalicFont=XB NiloofarIt,
BoldItalicFont=XB NiloofarBdIt
]{XB Niloofar}

%\setdigitfont[
%Scale=1.09,
%Extension=.ttf, 
%Path=styles/fonts/,
%BoldFont=XB NiloofarBd,
%ItalicFont=XB NiloofarIt,
%BoldItalicFont=XB NiloofarBdIt
%]{XB Niloofar}
\setdigitfont{Yas}

\defpersianfont\sayeh[
Scale=1,
Path=styles/fonts/
]{XB Kayhan Pook}


% -------------------- Styles --------------------


\SepMark{-}
\renewcommand{\labelitemi}{$\small\bullet$}



% -------------------- Environments --------------------


\newtheorem{قضیه}{قضیه‌ی}[chapter]
\newtheorem{لم}[قضیه]{لم}
\newtheorem{ادعا}[قضیه]{ادعای}
\newtheorem{مشاهده}[قضیه]{مشاهده‌ی}
\newtheorem{نتیجه}[قضیه]{نتیجه‌ی}
\newtheorem{مسئله}{مسئله‌ی}[chapter]
\newtheorem{تعریف}{تعریف}[chapter]
\newtheorem{مثال}{مثال}[chapter]


\newenvironment{اثبات}
	{\begin{trivlist}\item[\hskip\labelsep{\em اثبات.}]}
	{\leavevmode\unskip\nobreak\quad\hspace*{\fill}{\ensuremath{{\square}}}\end{trivlist}}

\newenvironment{alg}[2]
	{\begin{latin}\settextfont[Scale=1.0]{Times New Roman}
	\begin{algorithm}[t]\caption{#1}\label{algo:#2}\vspace{0.2em}\begin{algorithmic}[1]}
	{\end{algorithmic}\vspace{0.2em}\end{algorithm}\end{latin}}




%\newtheorem*{note}{توجه}

\newtheoremstyle{notethm}% 
{}{}% 
{\itshape}{}% 
{}{}% 
{ }% 
{\colorbox{headerColor}
	{\textbf{\thmname{#1}\thmnumber{ #2}}
		\thmnote{ (#3)}.}}

\declaretheorem[style=notethm,title=\rl{توجه}]{note}
%\def\createmyenvironment#1#2#3{\declaretheorem[style=#1,title=#3]{#2}}
%\createmyenvironment{notethm, note, \rl{توجه}}


% -------------------- Titles --------------------


\renewcommand{\listfigurename}{فهرست شکل‌ها}
\renewcommand{\listtablename}{فهرست جدول‌ها}
\renewcommand{\bibname}{\rl{{مراجع}\hfill}} 


% -------------------- Commands --------------------


\newcommand{\IN}{\ensuremath{\mathbb{N}}} 
\newcommand{\IZ}{\ensuremath{\mathbb{Z}}} 
\newcommand{\IQ}{\ensuremath{\mathbb{Q}}} 
\newcommand{\IR}{\ensuremath{\mathbb{R}}} 
\newcommand{\IC}{\ensuremath{\mathbb{C}}} 

\newcommand{\set}[1]{\left\{ #1 \right\}}
\newcommand{\seq}[1]{\left< #1 \right>}
\newcommand{\ceil}[1]{\left\lceil{#1}\right\rceil}
\newcommand{\floor}[1]{\left\lfloor{#1}\right\rfloor}
\newcommand{\card}[1]{\left|{#1}\right|}
\newcommand{\setcomp}[1]{\overline{#1}}
\newcommand{\provided}{\,:\,}
\newcommand{\divs}{\mid}
\newcommand{\ndivs}{\nmid}
\newcommand{\iequiv}[1]{\,\overset{#1}{\equiv}\,}
\newcommand{\imod}[1]{\allowbreak\mkern5mu(#1\,\,\text{پیمانه‌ی})}

\newcommand{\poly}{\mathop{\mathrm{poly}}}
\newcommand{\polylog}{\mathop{\mathrm{polylog}}}
\newcommand{\eps}{\varepsilon}

\newcommand{\lee}{\leqslant}
\newcommand{\gee}{\geqslant}
\renewcommand{\leq}{\lee}
\renewcommand{\le}{\lee}
\renewcommand{\geq}{\gee}
\renewcommand{\ge}{\gee}

\newcommand{\مهم}[1]{\textbf{#1}}
\renewcommand{\برچسب}{\label}

\newcommand{\REM}[1]{}
\renewcommand{\حذف}{\REM}
\newcommand{\لر}{\lr}
\newcommand{\کد}[1]{\lr{\tt #1}}
\newcommand{\پاورقی}[1]{\footnote{\lr{#1}}}

\newcommand{\urlSource}[1]{\lr{\scriptsize{source: \url{#1}}}}
\newcommand{\doiSource}[1]{\lr{\scriptsize{source: \doi{#1}}}}

\newcommand{\hcenter}[1]{\makebox[\textwidth][c]{#1}}


\newcommand{\Doi}[1]{\lr{\doi{#1}}}


% -------------------- Dictionary --------------------


\newcommand{\dicalphabet}[1]{
\begin{minipage}{\columnwidth}
	\centerline{\noindent\textbf{\large #1 }}
	\vspace{.5em}
\end{minipage}
\nopagebreak[4]
}

\newcommand{\dic}[2]{\noindent  #2 \dotfill  \lr{#1} \\ }

\NewEnviron{copyrightBox}[3][b]{
	\setcounter{subfigure}{0}% Reset subfigure counter
	\noindent\copyrightbox[#1]{
		\begin{minipage}{#2}\BODY\end{minipage}
	}{#3}}


% ------------------------------ Images and Figures --------------------------

\graphicspath{{figs/}}
\setlength{\intextsep}{0pt}  % for float boxes
\renewcommand{\psscalebox}[1]{}  % for LaTeX Draw

\newcommand{\floatbox}[2]
	{\begin{wrapfigure}{l}{#1}
	\centering #2 \end{wrapfigure}}

\newcommand{\centerfig}[2]
	{\centering\scalebox{#2}{\input{figs/#1}}}

\newcommand{\fig}[3]
	{\floatbox{#3}{\centerfig{#1}{#2}}}

\newcommand{\centerimg}[2]
	{\vspace{1em}\begin{center}\includegraphics[width=#2]{figs/#1}\end{center}\vspace{-1.5em}}

\NewDocumentCommand{\img}{m m o}
	{\begin{wrapfigure}{l}{\IfValueTF{#3}{#3}{#2}}
	\centering\includegraphics[width=#2]{figs/#1}\end{wrapfigure}}

\newcommand{\f}[2]{$\frac{#1}{#2}$}
\newcommand{\rltext}[1]{\text{\rl{#1}}}
\newcommand{\lrtext}[1]{\text{\lr{#1}}}
